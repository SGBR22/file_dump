# Контент Хранилище

Веб-приложение для хранения и организации контента: закладок, фотографий, видео и статей. Данные хранятся в облаке Firebase и доступны всем пользователям в реальном времени.

## Возможности

- **Публичный доступ**: Любой пользователь может просматривать весь контент
- **Система администрирования**: Только авторизованный администратор может добавлять и удалять контент
- **Четыре типа контента**: Закладки, Фото, Видео, Статьи
- **Реальное время**: Все изменения мгновенно отображаются у всех пользователей
- **WYSIWYG редактор**: Удобное создание статей с форматированием
- **Адаптивный дизайн**: Красиво выглядит на любых устройствах

## Быстрый старт

### Шаг 1: Создайте проект Firebase

1. Перейдите на [Firebase Console](https://console.firebase.google.com/)
2. Нажмите "Добавить проект" и следуйте инструкциям
3. Придумайте имя проекта (например, `content-vault`)
4. Отключите Google Analytics (для простоты) или настройте по желанию
5. Дождитесь создания проекта

### Шаг 2: Настройте Authentication

1. В левом меню выберите **Authentication**
2. Перейдите на вкладку **Sign-in method**
3. Нажмите **Email/Password**
4. Включите "Email/Password"
5. (Опционально) Включите "Email link (passwordless sign-in)"
6. Нажмите **Save**

### Шаг 3: Настройте Firestore Database

1. В левом меню выберите **Firestore Database**
2. Нажмите **Create database**
3. Выберите "Start in production mode"
4. Выберите ближайший к вам регион (например, `europe-west1`)
5. Нажмите **Enable**

### Шаг 4: Создайте администратора

1. В Firebase Console перейдите в **Authentication**
2. Перейдите на вкладку **Users**
3. Нажмите **Add user**
4. Введите email и пароль для администратора
5. Запомните эти данные - они понадобятся для входа

### Шаг 5: Настройте правила безопасности

1. В Firestore Database перейдите на вкладку **Rules**
2. Замените содержимое на следующее:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /items/{item} {
      // Все могут читать контент
      allow read: if true;
      // Только авторизованные пользователи могут писать
      allow write: if request.auth != null;
    }
  }
}
```

3. Нажмите **Publish**

### Шаг 6: Получите конфигурацию

1. В Firebase Console перейдите в **Настройки проекта** (шестерёнка слева)
2. Прокрутите вниз до раздела **Your apps**
3. Нажмите на иконку **</>** (Web)
4. Зарегистрируйте приложение (можно не устанавливать Firebase SDK локально)
5. Скопируйте объект `firebaseConfig`

### Шаг 7: Обновите конфигурацию в проекте

Откройте файл `js/firebase-config.js` и замените значения:

```javascript
const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
};
```

Пример заполненной конфигурации:

```javascript
const firebaseConfig = {
    apiKey: "AIzaSyB...",
    authDomain: "content-vault.firebaseapp.com",
    projectId: "content-vault",
    storageBucket: "content-vault.appspot.com",
    messagingSenderId: "123456789",
    appId: "1:123456789:web:abc123"
};
```

## Развёртывание на GitHub Pages

### Шаг 1: Загрузите файлы на GitHub

1. Создайте новый репозиторий на GitHub
2. Загрузите все файлы проекта (index.html, styles.css, js/, README.md)
3. Зафиксируйте и отправьте изменения

### Шаг 2: Включите GitHub Pages

1. В репозитории перейдите в **Settings**
2. В левом меню выберите **Pages**
3. В разделе "Build and deployment":
   - Source: "Deploy from a branch"
   - Branch: "main" (или "master")
   - Folder: "/ (root)"
4. Нажмите **Save**
5. Подождите 1-2 минуты пока сайт опубликуется

### Шаг 3: Добавьте домен Firebase (опционально)

Если вы хотите использовать собственный домен с Firebase Hosting:

1. В Firebase Console перейдите в **Hosting**
2. Нажмите **Add custom domain**
3. Следуйте инструкциям

## Локальная разработка

### Запуск без Firebase (для тестирования)

Приложение работает в двух режимах:

1. **С Firebase**: Полноценная работа с облачным хранилищем
2. **Без Firebase**: Использует localStorage (только для тестирования)

Если Firebase не настроен, приложение автоматически использует localStorage и показывает соответствующее уведомление.

### Тестирование изменений

Для тестирования изменений локально:

```bash
# Используйте любой HTTP сервер
npx serve .
# или
python -m http.server 8000
```

## Структура проекта

```
content-vault/
├── index.html              # Главная страница
├── styles.css              # Стили приложения
├── README.md               # Документация
└── js/
    ├── firebase-config.js  # Конфигурация Firebase
    ├── db.js               # Операции с базой данных
    ├── auth.js             # Аутентификация
    └── app.js              # Основная логика приложения
```

## Использование

### Для посетителей

1. Откройте сайт
2. Просматривайте контент во вкладках
3. Нажимайте на карточки для перехода по ссылкам или чтения статей

### Для администратора

1. Нажмите кнопку **"Админ"** в правом верхнем углу
2. Введите email и пароль, созданные в Firebase Console
3. После входа появится кнопка **"+"** для добавления контента
4. Наведите на карточку для отображения кнопки удаления

## Типы контента

| Тип | Описание | Поля |
|-----|----------|------|
| Закладка | Ссылка на внешний ресурс | Название, URL, Описание |
| Фото | Изображение по URL | Название, URL фото, Описание |
| Видео | Видео (YouTube, Vimeo) | Название, URL видео, Описание |
| Статья | Текстовый контент | Название, Описание, Полный текст |

## Устранение проблем

### Ошибка "Firebase не инициализирован"

1. Проверьте, что заполнили `firebaseConfig` в `js/firebase-config.js`
2. Убедитесь, что все поля заполнены корректно
3. Проверьте консоль браузера на наличие ошибок (F12)

### Не работает вход администратора

1. Проверьте, что пользователь создан в Firebase Console → Authentication
2. Убедитесь, что используете правильный email и пароль
3. Проверьте правила безопасности Firestore

### Контент не отображается

1. Проверьте, что в Firestore есть документы в коллекции `items`
2. Проверьте структуру документов
3. Проверьте консоль браузера на ошибки

## Технологии

- **HTML5** - разметка
- **CSS3** - стили (Flexbox, Grid, CSS Variables)
- **JavaScript ES6+** - логика
- **Firebase** - backend (Firestore, Authentication)
- **Quill.js** - WYSIWYG редактор для статей
- **Font Awesome** - иконки
- **Google Fonts** - шрифт Inter

## Лицензия

MIT License - свободное использование и модификация.
